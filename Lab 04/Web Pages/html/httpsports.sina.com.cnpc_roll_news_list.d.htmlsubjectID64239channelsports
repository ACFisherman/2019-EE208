<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>滚动全部新闻_竞技风暴_新浪网</title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="subjectid" content="" />
			 		<meta name="sudameta" content="urlpath:g/pl/" >
	

<link href="http://n2.sinaimg.cn/fashion/css/roll_151130.css" rel="stylesheet" />
</head>
<body>
<!-- for iPad begin -->
    <script type="text/javascript">
    (function(){
    	if(!/\((iPhone|iPad|iPod)/i.test(navigator.userAgent)){return};
    	var iPadScript = document.createElement("script");
    	iPadScript.src = "http://news.sina.com.cn/js/ui/ipad/reset.js";
    	document.getElementsByTagName("head")[0].appendChild(iPadScript);
    })();
    </script>
<!-- for iPad end -->
<div id="vBody">
<!--a-->

<div class="wrap">
	<!-- 标准二级导航_新闻中心 begin -->
	<style type="text/css">
	.secondaryHeader{height:33px;overflow:hidden;background:url(http://i2.sinaimg.cn/dy/images/header/2008/standardl2nav_bg.gif) repeat-x #fff;color:#000;font-size:12px;font-weight:100;}
	.secondaryHeader a,.secondaryHeader a:visited{color:#000;text-decoration:none;}
	.secondaryHeader a:hover,.secondaryHeader a:active{color:#c00;text-decoration:underline;}
	.sHBorder{border:1px #e3e3e3 solid;padding:0 10px 0 12px;overflow:hidden;zoom:1;}
	.sHLogo{float:left;height:31px;line-height:31px;overflow:hidden;}
	.sHLogo span,.sHLogo span a,.sHLogo span a:link,.sHLogo span a:visited,.sHLogo span a:hover{display:block;*float:left;display:table-cell;vertical-align:middle;*display:block;*font-size:27px;*font-family:Arial;height:31px;}
	.sHLogo span,.sHLogo span a img,.sHLogo span a:link img,.sHLogo span a:visited img,.sHLogo span a:hover img{vertical-align:middle;}
	.sHLinks{float:right;line-height:31px;}.secondaryHeader img{border:none;}
	/* pages */
	.pages{text-align:center;margin-top: 20px;}
	.pages a,.pages span{vertical-align:middle;}
	.pages_num{display:inline-block;font-family:'Arial';font-size:14px;padding:0 11px;margin:0 5px;line-height:30px;color:#575757;background:#f4f4f4;}
	.pages_num:hover{background:#e5e5e5;}
	.pages_curr,.pages_curr:hover{color:#fff;background:#175f9c;cursor:default;}
	.pages_lt,.pages_rt{display:inline-block;width:30px;height:30px;margin:0 5px;line-height:30px;background-image:url(http://n.sinaimg.cn/fashion/images/151130common.png);background-repeat:no-repeat;}
	.pages_lt{background-position:-320px -1890px;}
	.pages_lt:hover{background-position:-320px -1940px;}
	.pages_rt{background-position:-370px -1890px;}
	.pages_rt:hover{background-position:-370px -1940px;}
	.pages_lt_disabled:hover{background-position:-320px -1890px;}
	.pages_rt_disabled:hover{background-position:-370px -1890px;}
	.pages_disabled{cursor:default;opacity:0.8;filter:alpha(opacity=80);}
	.pages_txt{text-align:center;width:28px;height:28px;border:1px solid #dfdfdf;margin:0 5px;padding:0;line-height:28px\9;}
	.pages_smt{margin-left:10px;text-align:center;display:inline-block;width:70px;height:30px;line-height:30px;color:#fff;background:#175f9c;}
	.pages_smt:hover{background:#175f9c;}
	#pL_Main{padding-bottom:10px;}
	</style>
	<div class="secondaryHeader">
		<div class="sHBorder">
			<div class="sHLogo"><span><a href="http://www.sina.com.cn/"><img src="http://i1.sinaimg.cn/dy/images/header/2009/standardl2nav_sina_new.gif" alt="新浪网" /></a><a href="http://sports.sina.com.cn/"><img src="http://i3.sinaimg.cn/ty/deco/2010/0601/standardl2nav_sports.gif" alt="竞技风暴" /></a></span></div>
			<div class="sHLinks"><a href="http://sports.sina.com.cn/">竞技风暴</a>&nbsp;|&nbsp;<a href="http://www.sina.com.cn/">新浪首页</a>&nbsp;|&nbsp;<a href="http://news.sina.com.cn/guide/">新浪导航</a></div>
		</div>
	</div>
	<!-- 标准二级导航_新闻中心 end -->
	<div class="partMain clearfix">
		<h1 id="pL_Title">滚动全部新闻</h1>
		<div class="pL_Bar">
			<div id="pL_Path">
				<a href="" class="index">专题首页</a>
								<a href="http://interface.sina.cn/pc_zt_roll_news_index.d.html?vt=4&amp;subjectID=64239&amp;channel=sports">全部新闻</a>								<a href="http://interface.sina.cn/pc_zt_roll_pic_index.d.html?vt=4&amp;subjectID=64239&amp;subColumn=all&amp;channel=sports" id="img_href">滚动图片</a>								                        </div>
		</div>
		<div id="pL_Main">
			<div class="d_tit">
				<div class="d_tit_02">标题</div>
				<div class="d_tit_03" id="timeZoneAlert">时间</div>
			</div>
						<div class="d_list_txt" id="d_list"></div>
					</div>
	</div>


    
</div>
<script src="http://news.sina.com.cn/268/2015/0112/jquery.newest.js" charset="utf-8"></script>
<script type="text/javascript">
(function(){
	/* SPage */
    var defaultCfg = {
        wid: null,
        onIndex: 1,
        showPages: 5,
        isSearch: true,
        autoClear: true,
        changeCallback: function() {}
    };
    window.SPage = function(cfg) {
        this.cfg = $.extend({}, defaultCfg, cfg);
        this.w = $('#' + cfg.wid);
    }
    SPage.prototype = {
        eventInited: false,
        tdom: '<span class="pages_page"></span><span class="pages_search"></span>',
        ta: '<a href="javascript:;" class="%ptype%" page="%page%" title="%title%">%ptxt%</a>',
        ts: '<span>共<code>%ptotal%</code>页，到第<input type="text" class="pages_txt">页</span><a href="javascript:;" class="pages_smt">确定</a>',
        initDom: function() {
            var that = this,
                cfg = that.cfg;
            if (!cfg.total || cfg.total <= 1 && cfg.autoClear) {
                that.clear();
                return;
            }
            that.w.addClass('pages');
            that.w.html(that.tdom);
            that.wp = $('.pages_page', that.w);
            that.ws = $('.pages_search', that.w);
            that.paintPages(true);
            if (cfg.isSearch) {
                that.paintSearch();
            }
        },
        initEvent: function() {
            var that = this;
            if (that.eventInited) {
                return;
            }
            that.eventInited = true;
            that.w.delegate('a', 'click', function(e) {
                e.preventDefault();
                var t = $(this),
                    q;
                if (t.hasClass('pages_disabled') || t.hasClass('pages_curr')) {
                    return;
                }
                if (t.hasClass('pages_lt')) {
                    that.prev();
                    return;
                }
                if (t.hasClass('pages_rt')) {
                    that.next();
                    return;
                }
                if (t.hasClass('pages_smt')) {
                    q = $.trim(that.wq.val());
                    if (!q || !isFinite(q)) {
                        return;
                    }
                    that.goPage(q);
                    return;
                }
                if (t.attr('page')) {
                    that.goPage(t.attr('page'));
                    return;
                }
            });
        },
        paintPages: function(b) {
            var that = this,
                cfg = that.cfg,
                onIndex = cfg.onIndex,
                total = cfg.total,
                callback = typeof cfg.changeCallback !== 'function' ? function() {} : cfg.changeCallback,
                ta = that.ta,
                wp = that.wp,
                n = cfg.showPages,
                h = [],
                s, e;
            s = 1 + n * Math.floor((onIndex - 1) / n);
            e = Math.min(total, s + n - 1);
            h.push(ta.replace(/%ptype%/, 'pages_lt' + (onIndex === 1 ? ' pages_lt_disabled pages_disabled' : '')).replace(/%page%/, '').replace(/%title%/, '上一页').replace(/%ptxt%/, '&nbsp;'));
            for (; s <= e; s++) {
                h.push(ta.replace(/%ptype%/, 'pages_num' + (s === onIndex ? ' pages_curr' : '')).replace(/%page%/, s).replace(/%title%/, '').replace(/%ptxt%/, s));
            }
            h.push(ta.replace(/%ptype%/, 'pages_rt' + (onIndex === total ? ' pages_rt_disabled pages_disabled' : '')).replace(/%page%/, '').replace(/%title%/, '下一页').replace(/%ptxt%/, '&nbsp;'));
            wp.html(h.join(''));
            if (!b) {
                callback.call(that, that.cfg);
            }
        },
        paintSearch: function() {
            this.ws.html(this.ts.replace(/%ptotal%/, this.cfg.total));
            this.wq = $('.pages_txt', this.w);
        },
        go: function() {
            this.paintPages();
        },
        goPage: function(page) {
            var cfg = this.cfg;
            page = page - 0;
            if (page === cfg.onIndex || page < 1 || page > cfg.total) {
                return;
            }
            this.cfg.onIndex = page;
            this.go();
        },
        prev: function() {
            this.goPage(this.cfg.onIndex - 1);
        },
        next: function() {
            this.goPage(this.cfg.onIndex + 1);
        },
        clear: function() {
            this.w.html('');
        },
        init: function() {
            if (!this.w.length) {
                return;
            }
            this.initDom();
            this.initEvent();
        }
    };
    


	var utils = (function() {
        var me = {};
        me.extend = function(target, obj) {
            for (var i in obj) {
                target[i] = obj[i];
            }
        };
        me.Trim = function(str) {
            function _LTrim(str) {
                var i;
                for (i = 0; i < str.length; i++) {
                    if (str.charAt(i) != " " && str.charAt(i) != " ") break;
                }
                str = str.substring(i, str.length);
                return str;
            }

            function _RTrim(str) {
                var i;
                for (i = str.length - 1; i >= 0; i--) {
                    if (str.charAt(i) != " " && str.charAt(i) != " ") break;
                }
                str = str.substring(0, i + 1);
                return str;
            }
            return _LTrim(_RTrim(str));
        };
        me.getQueryString = function(name) {
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
            var r = window.location.search.substr(1).match(reg);
            if (r != null) return unescape(r[2]);
            return null;
        };
        me.loadCss = function(path) {
            if (!path || path.length === 0) {
                throw new Error('argument "path" is required !');
            }
            var head = document.getElementsByTagName('head')[0];
            var link = document.createElement('link');
            link.href = path;
            link.rel = 'stylesheet';
            link.type = 'text/css';
            head.appendChild(link);
        };
        me.loadJs = function(url, cb) {
            var head = document.getElementsByTagName('head')[0];
            var js = document.createElement('script'),
                isLoaded = false;
            js.onload = js.onreadystatechange = function() {
                if (!isLoaded && (!this.readyState || this.readyState == 'loaded' || this.readyState == 'complete')) {
                    isLoaded = true;
                    js.onload = js.onreadystatechange = null;
                    typeof cb == 'function' && cb();
                }
            };
            js.src = url;
            try {
                head.appendChild(js);
            } catch (e) {}
        };
        
        me.jsonp = function(obj) {
            function encodeFormData(data) {
                var pairs = [],
                    regexp = /%20/g;

                var value;
                for (var key in data) {
                    value = data[key].toString();

                    // encodeURIComponent encodes spaces as %20 instead of "+"
                   // pairs.push(win.encodeURIComponent(key).replace(regexp, '+') +
                        //'=' + win.encodeURIComponent(value).replace(regexp, '+'));
                    pairs.push(window.encodeURI(key).replace(regexp, '+') +
                        '=' + window.encodeURI(value).replace(regexp, '+'));
                }

                return pairs.join('&');
            }
            var toString = Object.prototype.toString;

            function isFunction(obj) {
                return toString.call(obj) === '[object Function]';
            }

            function isNumber(obj) {
                return toString.call(obj) === '[object Number]';
            }

            function _siteId(prefix) {
                var id = (new Date()).getTime() + Math.floor(Math.random() * 100000);
                return prefix ? prefix + '' + id : id;
            }
            var head = document.getElementsByTagName('head')[0] || document.documentElement;
            var baseElement = head.getElementsByTagName('base')[0];
            var READY_STATE_RE = /^(?:loaded|complete|undefined)/;
            var scriptOnLoad = function(node, callback) {
                node.onload = node.onreadystatechange = function() {
                    if (READY_STATE_RE.test(node.readyState)) {

                        // only run once and handle memory leak in IE
                        node.onload = node.onreadystatechange = null;

                        // remove the script to reduce memory leak
                        head.removeChild(node);

                        node = null;
                    }
                };
            };

            function getScript(url, charset) {
                var node = document.createElement('script');
                node.src = url;

                if (charset) {
                    node.charset = charset;
                }

                node.async = true;

                scriptOnLoad(node);

                // IE6 Bug: http://bugs.jquery.com/ticket/2709
                if (baseElement) {
                    head.insertBefore(node, baseElement);
                } else {
                    head.appendChild(node);
                }

                return node;
            }
            var jsonpName = obj.jsonp || 'callback';
            var jsonpCallback = _siteId('jsonpcallback');
            var jsonpParams = jsonpName + '=' + jsonpCallback;

            var timeout = window.setTimeout(function() {
                if (isFunction(obj.ontimeout)) {
                    obj.ontimeout();
                }
            }, 5000);

            window[jsonpCallback] = function(data) {
				//window.scrollTo(0,$('#listArticle').offset().top);
                window.clearTimeout(timeout);

                if (isFunction(obj.onsuccess)) {
                    obj.onsuccess(data);
                }

            };

            var andTag = obj.url.indexOf('?') > 0 ? '&' : '?';

            if (obj.data) {
                getScript(obj.url + andTag + encodeFormData(obj.data) + '&' + jsonpParams, obj.charset);
            } else {
                getScript(obj.url + andTag + jsonpParams, obj.charset);
            }

        };
        me.dateFormat = function(date,fmt){
            var o = {   
            "M+" : date.getMonth()+1,                 //月份   
            "d+" : date.getDate(),                    //日   
            "h+" : date.getHours(),                   //小时   
            "m+" : date.getMinutes(),                 //分   
            "s+" : date.getSeconds(),                 //秒   
            "q+" : Math.floor((date.getMonth()+3)/3), //季度   
            "S"  : date.getMilliseconds()             //毫秒   
          };   
          if(/(y+)/.test(fmt))   
            fmt=fmt.replace(RegExp.$1, (date.getFullYear()+"").substr(4 - RegExp.$1.length));   
          for(var k in o)   
            if(new RegExp("("+ k +")").test(fmt))   
          fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : (("00"+ o[k]).substr((""+ o[k]).length)));   
          return fmt;   
        };
         
        return me;
    })();
	function newsList (options) {
        this.options = {
            //default options
            wrap:'',//列表id
            doPage:true,
            api:'http://interface.sina.cn/pc_zt_api/pc_zt_press_news_doc.d.json',
            subjectID:'64239',
cat:'',
pageNum:1,
pageSize:40,
channel:'sports',


            
            onRendered:function(m){}
        };
        //user options
        for ( var i in options ) {
            this.options[i] = options[i];
        }
    }

    newsList.prototype = {
        pageNum:1,
        current:1,
        pageSize:10,
        total:0,
        pageCount:0,
        selfPage:null,
        getData:function(api,_data,fn){
            var _self = this,
                opt = _self.options;
            utils.jsonp({
                url: api,
                data: _data,
                onsuccess: function(m) {
                    fn&&fn(m);  
                }
            });    
            
        },
        getDomStr:function(m){
            var _self = this,
                opt = _self.options;
            var wrapObj = $('#'+opt.wrap),
                pageId = opt.wrap+'_pages';
            var tempStr = '';
			tempTPL = '<li><span class="c_tit"><a  href="%url%" target="_blank">%title%</a></span><span class="c_time">%createtime%</span></li>';
            if(m.result.status==0&&m.result.total!=0){
				var html = "";
				var sum = 0;
                var _data = m.result.data;
                _self.total = m.result.total;
                _self.pageCount = _data.length;
                for(var i = 0;i<_data.length;i++){
					if(sum==0){html += '<ul>';}
                    var tempData = _data[i],
                        title = tempData.title, 
                        url = tempData.url,
                        createtime = utils.dateFormat(new Date((tempData.createtime-0)*1000), 'MM月dd日 hh:mm') ;
                        html+=tempTPL.replace(/%title%/g,title)
                        .replace(/%url%/g,url)
                        .replace(/%createtime%/g,createtime);  
					sum ++;
					if(sum == 5){
						sum = 0;
						html += '</ul>';
					}
                }    
            }
            if (Number(_self.total) > opt.pageNum && $('#' + pageId).length == 0) {
                wrapObj.after('<div class="pages" id="' + pageId + '"></div>');
            }
            return   html; 
        },
        renderList:function(toPage){//获取列表
            var _self = this,
                opt = _self.options;
            var param = {
            	subjectID:opt.subjectID,
            	cat:opt.cat,
            	size:opt.pageSize,
            	page:opt.pageNum,
				channel:opt.channel
            };
   
            _self.getData(
                opt.api,
                param,
                function(m){
                    if(m&&m.result.status=='0'){
                        //获取成功
                        var tempStr = _self.getDomStr(m);
                        _self.renderNoData();
                        _self.renderMore(tempStr);
                       	opt.onRendered.call(_self,m);
                    }
                }
            );
            
        },
        renderNoData:function(){//数据为空
            var _self = this,
                opt = _self.options;
            var emptyTipId = opt.wrap+'_emptyTip',
                wrapObj = $('#'+opt.wrap);
            if(_self.total==0){
                if($('#'+emptyTipId).length==0){
                    wrapObj.after('<div class="empty-tip clearfix" id="'+emptyTipId+'"><em class="icon_emptyTip"></em><span>当前没有任何记录</span></div>');
                }
            }else{
                if($('#'+emptyTipId).length!=0){
                    $('#'+emptyTipId).remove();
                }
            }
        },
        renderMore:function(str){//加载更多
            var _self = this,
                opt = _self.options;
            var wrapObj = $('#'+opt.wrap),
                pageId = opt.wrap+'_pages';
            wrapObj.html(str);
            
            if (opt.doPage) {
                if (Number(_self.total) > opt.pageNum) {
                    //首次
                    self.selfPage = new SPage({
                        wid: opt.wrap + '_pages',
                        changeCallback: function(s) {
                            opt.pageNum = s.onIndex;
                            opt.doPage = false;
                            _self.renderList(opt.pageNum);
							document.documentElement.scrollTop = document.body.scrollTop =0;
                        }
                    });

                    self.selfPage.cfg.total = Math.ceil((_self.total || 0) / opt.pageSize);
                    self.selfPage.cfg.onIndex = 1;
                    self.selfPage.init();
                } else if (Number(_self.total) < opt.pageNum) {
                    $('#' + opt.wrap + '_pages').html('');
                }
            }
        },
        init:function(){
            this.renderList(1);
                   
        }  
    };
    window.newsList = newsList;
})()

</script>
<script type="text/javascript">
	(function(){
		var nl01 = new newsList({
			wrap:'d_list'
		});
		nl01.init();
	})()
</script>
<!-- 新闻中心二级页 footer begin -->
<div class="footer">
	<p><a href="http://news.sina.com.cn/guest.html" target="_blank">意见反馈留言板</a>　客服热线：4006900000　欢迎批评指正　　新浪公司 <a href="http://www.sina.com.cn/intro/copyright.shtml">版权所有</a>　Copyright &copy; 1996-2019 SINA Corporation, All Rights Reserved</p>
</div>
<!-- 新闻中心二级页 footer end -->

</div>
</body>
</html>